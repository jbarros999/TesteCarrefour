<mxfile host="app.diagrams.net" modified="2026-01-07" agent="5.0 (Windows)" version="22.1.0">
  <diagram id="arq1" name="Arquitetura Alvo">
    <mxGraphModel dx="1422" dy="794" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>

        <!-- Clientes -->
        <mxCell id="web" value="Web App" style="rounded=1;whiteSpace=wrap;fillColor=#dae8fc" vertex="1" parent="1">
          <mxGeometry x="40" y="40" width="120" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="mobile" value="Mobile App" style="rounded=1;whiteSpace=wrap;fillColor=#dae8fc" vertex="1" parent="1">
          <mxGeometry x="40" y="120" width="120" height="60" as="geometry"/>
        </mxCell>

        <!-- Gateway -->
        <mxCell id="gateway" value="API Gateway / WAF" style="rounded=1;whiteSpace=wrap;fillColor=#c9daf8" vertex="1" parent="1">
          <mxGeometry x="220" y="80" width="180" height="80" as="geometry"/>
        </mxCell>

        <!-- BFF -->
        <mxCell id="bff" value="BFF / Backend for Frontend" style="rounded=1;whiteSpace=wrap;fillColor=#fff2cc" vertex="1" parent="1">
          <mxGeometry x="440" y="80" width="200" height="80" as="geometry"/>
        </mxCell>

        <!-- Domínio Lançamentos -->
        <mxCell id="domLcto" value="Domínio de Lançamentos (Core)" style="swimlane;rounded=1;fillColor=#d5e8d4" vertex="1" parent="1">
          <mxGeometry x="700" y="20" width="260" height="180" as="geometry"/>
        </mxCell>

        <mxCell id="svcLcto" value="Serviço de Lançamentos" style="rounded=1;whiteSpace=wrap;fillColor=#e1f5e1" vertex="1" parent="domLcto">
          <mxGeometry x="20" y="30" width="110" height="40" as="geometry"/>
        </mxCell>

        <mxCell id="svcConta" value="Serviço de Contas" style="rounded=1;whiteSpace=wrap;fillColor=#e1f5e1" vertex="1" parent="domLcto">
          <mxGeometry x="150" y="30" width="110" height="40" as="geometry"/>
        </mxCell>

        <mxCell id="svcUser" value="Serviço de Usuários/Auth" style="rounded=1;whiteSpace=wrap;fillColor=#e1f5e1" vertex="1" parent="domLcto">
          <mxGeometry x="70" y="100" width="140" height="40" as="geometry"/>
        </mxCell>

        <!-- Domínio Consolidação -->
        <mxCell id="domCons" value="Domínio de Consolidação / Analytics" style="swimlane;rounded=1;fillColor=#ead1dc" vertex="1" parent="1">
          <mxGeometry x="700" y="220" width="260" height="170" as="geometry"/>
        </mxCell>

        <mxCell id="svcAgg" value="Serviço de Agregações" style="rounded=1;whiteSpace=wrap;fillColor=#f4cccc" vertex="1" parent="domCons">
          <mxGeometry x="20" y="30" width="110" height="40" as="geometry"/>
        </mxCell>

        <mxCell id="svcRel" value="Serviço de Relatórios" style="rounded=1;whiteSpace=wrap;fillColor=#f4cccc" vertex="1" parent="domCons">
          <mxGeometry x="150" y="30" width="110" height="40" as="geometry"/>
        </mxCell>

        <!-- Mensageria -->
        <mxCell id="msg" value="Mensageria (Kafka / RabbitMQ)" style="rounded=1;whiteSpace=wrap;fillColor=#f8cecc" vertex="1" parent="1">
          <mxGeometry x="440" y="220" width="200" height="70" as="geometry"/>
        </mxCell>

        <mxCell id="dlq" value="DLQ / Retry" style="ellipse;whiteSpace=wrap;fillColor=#f4cccc" vertex="1" parent="1">
          <mxGeometry x="440" y="310" width="200" height="70" as="geometry"/>
        </mxCell>

        <!-- Bancos -->
        <mxCell id="dbOLTP" value="Banco Transacional (OLTP)" style="shape=cylinder;whiteSpace=wrap;fillColor=#cfe2f3" vertex="1" parent="1">
          <mxGeometry x="1000" y="40" width="200" height="90" as="geometry"/>
        </mxCell>
        <mxCell id="dbOLAP" value="Banco Analítico (OLAP)" style="shape=cylinder;whiteSpace=wrap;fillColor=#cfe2f3" vertex="1" parent="1">
          <mxGeometry x="1000" y="160" width="200" height="90" as="geometry"/>
        </mxCell>

        <!-- Observability -->
        <mxCell id="obs" value="Observabilidade&#10;- Logs&#10;- Métricas&#10;- Traces" style="rounded=1;whiteSpace=wrap;fillColor=#d9d2e9" vertex="1" parent="1">
          <mxGeometry x="1000" y="280" width="200" height="120" as="geometry"/>
        </mxCell>

        <!-- CI/CD -->
        <mxCell id="cicd" value="CI/CD" style="rounded=1;whiteSpace=wrap;fillColor=#fff2cc" vertex="1" parent="1">
          <mxGeometry x="40" y="320" width="180" height="80" as="geometry"/>
        </mxCell>

        <!-- Edges -->
        <mxCell id="e1" edge="1" source="web" target="gateway" style="endArrow=block"/>
        <mxCell id="e2" edge="1" source="mobile" target="gateway" style="endArrow=block"/>
        <mxCell id="e3" edge="1" source="gateway" target="bff" style="endArrow=block"/>
        <mxCell id="e4" edge="1" source="bff" target="domLcto" style="endArrow=block"/>
        <mxCell id="e5" edge="1" source="domLcto" target="msg" style="endArrow=block"/>
        <mxCell id="e6" edge="1" source="msg" target="domCons" style="endArrow=block"/>
        <mxCell id="e7" edge="1" source="msg" target="dlq" style="endArrow=block"/>
        <mxCell id="e8" edge="1" source="domLcto" target="dbOLTP" style="endArrow=block"/>
        <mxCell id="e9" edge="1" source="domCons" target="dbOLAP" style="endArrow=block"/>
        <mxCell id="e10" edge="1" source="domLcto" target="obs" style="endArrow=block"/>
        <mxCell id="e11" edge="1" source="domCons" target="obs" style="endArrow=block"/>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
